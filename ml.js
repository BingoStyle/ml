!function(t){function e(){t.rem=a.getBoundingClientRect().width/16,a.style.fontSize=t.rem+"px"}var n,i=t.navigator.appVersion.match(/iphone/gi)?t.devicePixelRatio:1,r=1/i,a=document.documentElement,o=document.createElement("meta");if(t.dpr=i,t.addEventListener("resize",function(){clearTimeout(n),n=setTimeout(e,300)},!1),t.addEventListener("pageshow",function(t){t.persisted&&(clearTimeout(n),n=setTimeout(e,300))},!1),a.setAttribute("data-dpr",i),o.setAttribute("name","viewport"),o.setAttribute("content","initial-scale="+r+", maximum-scale="+r+", minimum-scale="+r+", user-scalable=no"),a.firstElementChild)a.firstElementChild.appendChild(o);else{var s=document.createElement("div");s.appendChild(o),document.write(s.innerHTML)}e()}(window),function(t,e){function n(t,e){function n(){g||(g=!0,u=t.querySelector("canvas"),h=u.getContext("2d"),m=.13373158940994154,v=.06015722128359704);var e=u.getBoundingClientRect();(u.width!==e.width*w||u.height!==e.height*w)&&(u.width=e.width*w,u.height=e.height*w,f=e.width/2,p=f/15)}function a(){if("spin"===y){n();var t=0;!function(){"spin"===y&&(h.clearRect(0,0,u.width,u.height),h.beginPath(),h.arc(f*w,f*w,(f-p)*w,-m-Math.PI/2-t,-m-Math.PI/2-100*v-t,!0),h.lineWidth=p*w,h.strokeStyle="#ff5000",h.stroke(),h.closePath(),t+=4*Math.PI/60,i(arguments.callee))}()}}function o(t){"draw"===y&&(n(),t>100&&(t=100),h.clearRect(0,0,u.width*w,u.height*w),h.beginPath(),h.arc(f*w,f*w,(f-p)*w,-m-Math.PI/2,-m-Math.PI/2-v*t,!0),h.lineWidth=p*w,h.strokeStyle="#ff5000",h.stroke(),h.closePath())}function s(){var e=t.querySelector(".arrow");e.style.cssText="display: block"}function l(){var e=t.querySelector(".arrow");e.style.webkitTransform="scale(1)",e.style.opacity="1",i(function(){e.style.webkitTransition="-webkit-transform 0.4s ease-in 0, opacity 0.4s ease-in 0",e.style.webkitTransform="scale(0.5)",e.style.opacity="0",e.addEventListener("webkitTransitionEnd",function(){e.removeEventListener("webkitTransitionEnd",arguments.callee),e.style.cssText="display:none;"})})}var c=Date.now()+"-"+ ++r,d=document.createDocumentFragment();1!==arguments.length||arguments[0]instanceof HTMLElement||(e=arguments[0],t=null),t||(t=document.createElement("div"),d.appendChild(t)),e=e||{},t.setAttribute("data-ctrl-name","loading"),t.setAttribute("data-ctrl-id",c),t.innerHTML='<div><canvas></canvas><span class="arrow"></span></div><span class="text"></span>';var u,h,f,p,m,v,g=!1,w=2;Object.defineProperty(this,"bgcolor",{get:function(){return t.style.backgroundColor},set:function(e){if("string"!=typeof e)throw new Error("Non expected value");t.style.backgroundColor=e}}),Object.defineProperty(this,"text",{get:function(){return t.querySelector(".text").innerText},set:function(e){if("string"!=typeof e)throw new Error("Non expected value");var n=t.querySelector("div"),i=t.querySelector(".text");e?(t.style.webkitBoxPack="",n.style.marginLeft="",i.style.display="block",i.innerText=e):(t.style.webkitBoxPack="center",n.style.marginLeft="0",i.style.display="none",i.innerText="")}});var y="";Object.defineProperty(this,"mode",{get:function(){return y},set:function(t){if(!t&&"string"!=typeof t&&["draw","spin"].indexOf(t)<0)throw new Error("Non expected value");y=t,"spin"===y?(x&&l(),a()):"draw"===y&&(s(),o(0))}});var b=0;Object.defineProperty(this,"per",{get:function(){return b},set:function(t){if("draw"!==y)throw new Error('only work under "draw" mode');if(!t&&"number"!=typeof t&&0>t&&t>100)throw new Error("Non expected value");o(t)}});var x="";Object.defineProperty(this,"arrowDirection",{get:function(){return x},set:function(e){if(!e&&"string"!=typeof e&&["up","down",""].indexOf(e)<0)throw new Error("Non expected value");x=e,t.querySelector(".arrow").className="arrow "+e}}),this.remove=function(){t.parentNode&&t.parentNode.removeChild(t)},this.element=t,this.root=d}var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame||function(t){setTimeout(t,1/60*1e3)},r=0;e.loading=n}(window,window.ctrl||(window.ctrl={})),function(t,e){e.tabheader=function(){var t=document.createDocumentFragment(),e=document.createComment("tab-header-begin"),n=document.createComment("tab-header-end");t.appendChild(e),t.appendChild(n),t.insertBefore(this.element=document.createElement("div"),n),this.element.className="tab-header";var i=document.createElement("div");i.className="tab-header-content",i.style.position="relative",i.style.textWrap="nowrap",this.element.appendChild(i);var r,a=lib.scroll(i,{direction:"x"});this.renderSelected=function(){r=document.createElement("div"),i.appendChild(r),r.className="indicator",this.updateSelected()},this.updateSelected=function(t){{var e=i.childNodes[o];e.getBoundingClientRect().width}r.style.width=e.getBoundingClientRect().width+"px",r.style.left=e.offsetLeft+"px",r.style.position="absolute",r.style.bottom="0",r.style.webkitTransitionDuration=Math.abs(.1*t).toFixed(1)+"s",a.scrollToElement(e,!0)},t.remove=function(){if(t.childNodes.length){var i=document.createRange();i.setStartBefore(e),i.setEndAfter(n),t.appendChild(i.extractContents())}};var o=0;Object.defineProperty(this,"selected",{get:function(){return o},set:function(e){if(o!=e){var n=document.createEvent("HTMLEvents");n.initEvent("select",!0,!0),n.selected=s[e],n.selectIndex=e,t.dispatchEvent(n);var i=o-e;return o=e,this.updateSelected(i),o}}});var s=null;Object.defineProperty(this,"viewModel",{get:function(){return s},set:function(t){i.innerHTML="";for(var e=this,n=0;n<t.length;n++){var r=document.createElement("span");r.innerText=t[n].text,i.appendChild(r),r.addEventListener("click",function(t){return function(){e.selected=t}}(n),!1)}this.renderSelected();var o=document.createRange();return o.setStartBefore(i),o.setEndAfter(i),i.style.width=o.getBoundingClientRect().width+"px",a.init(),a.refresh(),s=t}}),this.addEventListener=function(){t.addEventListener.apply(t,arguments)},this.removeEventListener=function(){t.removeEventListener.apply(t,arguments)},this.root=t}}(window,window.ctrl||(window.ctrl={})),function(t,e){function n(t,n){function r(t){var e=document.createEvent("HTMLEvents");e.initEvent("switch",!0,!0),e.panel=t.selected.panel,e.selected=t.selected,e.selectedIndex=t.selectedIndex,o.dispatchEvent(e),Array.prototype.forEach.call(l.querySelectorAll(".panel"),function(t){t.style.display="none"}),t.selected.panel.style.display=""}var a=Date.now()+"-"+ ++i,o=document.createDocumentFragment();if(1!==arguments.length||arguments[0]instanceof HTMLElement||(n=arguments[0],t=null),t||(t=document.createElement("div")),n=n||{},n.header instanceof HTMLElement)var s=new e.tabheader(n.header);else if(n.header instanceof e.tabheader)var s=n.header;else var s=new e.tabheader;var l=document.createElement("div");t.appendChild(s.root),t.appendChild(l),t.setAttribute("data-ctrl-name","tabpanel"),t.setAttribute("data-ctrl-id",a),o.appendChild(t);var c=[];Object.defineProperty(this,"viewModel",{get:function(){return c},set:function(t){if(!t)throw new Error("Non expected value");c=t,this.syncViewModel()}}),s.addEventListener("select",r,!0),this.syncViewModel=function(){var t=c.slice();l.innerHTML="";for(var e=document.createDocumentFragment(),n=0;n<t.length;n++){var i=t[n].panel=document.createElement("div");i.className="panel",i.style.display="none",i.innerHTML=t[n].html||"",e.appendChild(t[n].panel)}l.appendChild(e),s.viewModel=t,r({selected:t[0],selectIndex:0})},this.addEventListener=function(){o.addEventListener.apply(o,arguments)},this.removeEventListener=function(){o.removeEventListener.apply(o,arguments)},this.remove=function(){t.parentNode&&t.parentNode.removeChild(t)},this.element=t,this.root=o}var i=0;e.tabpanel=n}(window,window.ctrl||(window.ctrl={})),function(t,e){function n(t,e){function n(){var e;switch(d){case"column":e=new Array(f+1).join('<div class="column" style="margin-right:'+p+'px;-webkit-box-flex:1;"></div>');break;case"adaptive":var n=Math.floor((t.getBoundingClientRect().width+p)/(h+p));e=new Array(n+1).join('<div class="column" style="width:'+h+"px;margin-right:"+p+'px;"></div>');break;case"fix":e=new Array(f+1).join('<div class="column" style="width:'+h+"px;margin-right:"+p+'px;"></div>')}c.innerHTML=e,c.style.height="",w=Array.prototype.slice.call(c.querySelectorAll(".column")).map(function(t){return t.height=0,t.items={},t.fragment=document.createDocumentFragment(),t})}function r(t){for(var e=w[0],n=e.height,i=1;i<w.length;i++){var r=w[i].height||0;n>r&&(e=w[i],n=r)}var a=e.fragment;t.style.webkitTransform="translateY("+e.height+"px)",a.appendChild(t),t.height||e.appendChild(a),e.height=(e.height||0)+(t.height||t.getBoundingClientRect().height)+m}function a(){for(;v<g.length;v++){var t=g[v],e=document.createElement("div");e.className="item",t.width&&(e.width=t.width,e.style.width=t.width+"px"),t.height&&(e.height=t.height,e.style.height=t.height+"px"),e.innerHTML=t.html,r(e)}for(var n=0,i=0;i<w.length;i++)w[i].fragment&&w[i].fragment.childElementCount&&w[i].appendChild(w[i].fragment),n=Math.max(n,w[i].height);c.style.height=n+"px"}var o=this,s=Date.now()+"-"+ ++i,l=document.createDocumentFragment();1!==arguments.length||arguments[0]instanceof HTMLElement||(e=arguments[0],t=null),t||(t=document.createElement("div"),l.appendChild(t)),e=e||{},t.setAttribute("data-ctrl-name","waterfall"),t.setAttribute("data-ctrl-id",s);var c=document.createElement("div");c.className="column-wrap",t.appendChild(c);var d,u=!0;Object.defineProperty(this,"mode",{get:function(){return d},set:function(t){if(["column","adaptive","fix"].indexOf(t)<0)throw new Error("Non expected value");d!==t&&(u=!0,d=t)}}),this.mode=e.mode||"column";var h;Object.defineProperty(this,"columnWidth",{get:function(){var t=c.querySelector(".column");return t?t.getBoundingClientRect().width:h||0},set:function(t){if("string"==typeof t){var e=parseInt(t);if(!e)throw new Error("Non expected value");h=e}else{if("number"!=typeof t)throw new Error("Non expected value");h=t}}}),e.columnWidth&&(this.columnWidth=e.columnWidth);var f;Object.defineProperty(this,"columnAmount",{get:function(){var t=c.querySelectorAll(".column");return t&&t.length?t.length:f||0},set:function(t){if("string"==typeof t){var e=parseInt(t);if(!e)throw new Error("Non expected value");f=e}else{if("number"!=typeof t)throw new Error("Non expected value");f=t}}}),e.columnAmount&&(this.columnAmount=e.columnAmount);var p;Object.defineProperty(this,"columnPadding",{get:function(){return p},set:function(t){if("string"==typeof t){var e=parseInt(t);if(!e)throw new Error("Non expected value");p=e}else{if("number"!=typeof t)throw new Error("Non expected value");p=t}}}),e.columnPadding&&(this.columnPadding=e.columnPadding);var m;Object.defineProperty(this,"linePadding",{get:function(){return m},set:function(t){if("string"==typeof t){var e=parseInt(t);if(!e)throw new Error("Non expected value");m=e}else{if("number"!=typeof t)throw new Error("Non expected value");m=t}}}),e.linePadding&&(this.linePadding=e.linePadding||0);var v=0,g=[];Object.defineProperty(this,"viewModel",{get:function(){return g},set:function(t){if(!(t instanceof Array))throw new Error("Non expected value");g=t,o.syncViewModel("refresh")}});var w;this.syncViewModel=function(t){t=t||"padding","refresh"===t||u?(refresh=!1,v=0,n(),a()):"padding"===t&&a()},this.addEventListener=function(){t.addEventListener.apply(t,arguments)},this.removeEventListener=function(){t.removeEventListener.apply(t,arguments)},this.remove=function(){t.parentNode&&t.parentNode.removeChild(t)},this.element=t,this.root=l,n()}var i=0;e.waterfall=n}(window,window.ctrl||(window.ctrl={})),function(t){function e(t,e){for(var n=t;n;){if(n.contains(e)||n==e)return n;n=n.parentNode}return null}function n(t,e,n){var i=l.createEvent("HTMLEvents");if(i.initEvent(e,!0,!0),"object"==typeof n)for(var r in n)i[r]=n[r];t.dispatchEvent(i)}function i(t,e,n,i,r,a,o,s){var l=Math.atan2(s-a,o-r)-Math.atan2(i-e,n-t),c=Math.sqrt((Math.pow(s-a,2)+Math.pow(o-r,2))/(Math.pow(i-e,2)+Math.pow(n-t,2))),d=[r-c*t*Math.cos(l)+c*e*Math.sin(l),a-c*e*Math.cos(l)-c*t*Math.sin(l)];return{rotate:l,scale:c,translate:d,matrix:[[c*Math.cos(l),-c*Math.sin(l),d[0]],[c*Math.sin(l),c*Math.cos(l),d[1]],[0,0,1]]}}function r(t){0===Object.keys(u).length&&(c.addEventListener("touchmove",a,!1),c.addEventListener("touchend",o,!1),c.addEventListener("touchcancel",s,!1));for(var i=0;i<t.changedTouches.length;i++){var r=t.changedTouches[i],l={};for(var h in r)l[h]=r[h];var f={startTouch:l,startTime:Date.now(),status:"tapping",element:t.srcElement,pressingHandler:setTimeout(function(e){return function(){"tapping"===f.status&&(f.status="pressing",n(e,"press",{touchEvent:t})),clearTimeout(f.pressingHandler),f.pressingHandler=null}}(t.srcElement),500)};u[r.identifier]=f}if(2==Object.keys(u).length){var p=[];for(var h in u)p.push(u[h].element);n(e(p[0],p[1]),"dualtouchstart",{touches:d.call(t.touches),touchEvent:t})}}function a(t){for(var r=0;r<t.changedTouches.length;r++){var a=t.changedTouches[r],o=u[a.identifier];if(!o)return;o.lastTouch||(o.lastTouch=o.startTouch),o.lastTime||(o.lastTime=o.startTime),o.velocityX||(o.velocityX=0),o.velocityY||(o.velocityY=0),o.duration||(o.duration=0);var s=Date.now()-o.lastTime,l=(a.clientX-o.lastTouch.clientX)/s,c=(a.clientY-o.lastTouch.clientY)/s,d=70;s>d&&(s=d),o.duration+s>d&&(o.duration=d-s),o.velocityX=(o.velocityX*o.duration+l*s)/(o.duration+s),o.velocityY=(o.velocityY*o.duration+c*s)/(o.duration+s),o.duration+=s,o.lastTouch={};for(var h in a)o.lastTouch[h]=a[h];o.lastTime=Date.now();var f=a.clientX-o.startTouch.clientX,p=a.clientY-o.startTouch.clientY,m=Math.sqrt(Math.pow(f,2)+Math.pow(p,2));"tapping"===o.status&&m>10&&(o.status="panning",o.isVertical=!(Math.abs(f)>Math.abs(p)),n(o.element,"panstart",{touch:a,touchEvent:t,isVertical:o.isVertical}),n(o.element,(o.isVertical?"vertical":"horizontal")+"panstart",{touch:a,touchEvent:t})),"panning"===o.status&&(o.panTime=Date.now(),n(o.element,"pan",{displacementX:f,displacementY:p,touch:a,touchEvent:t,isVertical:o.isVertical}),o.isVertical?n(o.element,"verticalpan",{displacementY:p,touch:a,touchEvent:t}):n(o.element,"horizontalpan",{displacementX:f,touch:a,touchEvent:t}))}if(2==Object.keys(u).length){for(var v,g=[],w=[],y=[],r=0;r<t.touches.length;r++){var a=t.touches[r],o=u[a.identifier];g.push([o.startTouch.clientX,o.startTouch.clientY]),w.push([a.clientX,a.clientY])}for(var h in u)y.push(u[h].element);v=i(g[0][0],g[0][1],g[1][0],g[1][1],w[0][0],w[0][1],w[1][0],w[1][1]),n(e(y[0],y[1]),"dualtouch",{transform:v,touches:t.touches,touchEvent:t})}}function o(t){if(2==Object.keys(u).length){var i=[];for(var r in u)i.push(u[r].element);n(e(i[0],i[1]),"dualtouchend",{touches:d.call(t.touches),touchEvent:t})}for(var l=0;l<t.changedTouches.length;l++){var f=t.changedTouches[l],p=f.identifier,m=u[p];if(m){if(m.pressingHandler&&(clearTimeout(m.pressingHandler),m.pressingHandler=null),"tapping"===m.status&&(m.timestamp=Date.now(),n(m.element,"tap",{touch:f,touchEvent:t}),h&&m.timestamp-h.timestamp<300&&n(m.element,"doubletap",{touch:f,touchEvent:t}),h=m),"panning"===m.status){var v=Date.now()-m.startTime,g=((f.clientX-m.startTouch.clientX)/v,(f.clientY-m.startTouch.clientY)/v,f.clientX-m.startTouch.clientX),w=f.clientY-m.startTouch.clientY,y=Math.sqrt(m.velocityY*m.velocityY+m.velocityX*m.velocityX),b=Date.now(),x=y>.5&&b-(m.lastTime<10);n(m.element,"panend",{isflick:x,touch:f,touchEvent:t,isVertical:m.isVertical}),x&&(n(m.element,"flick",{duration:v,velocityX:m.velocityX,velocityY:m.velocityY,displacementX:g,displacementY:w,touch:f,touchEvent:t,isVertical:m.isVertical}),m.isVertical?n(m.element,"verticalflick",{duration:v,velocityY:m.velocityY,displacementY:w,touch:f,touchEvent:t}):n(m.element,"horizontalflick",{duration:v,velocityX:m.velocityX,displacementX:g,touch:f,touchEvent:t}))}"pressing"===m.status&&n(m.element,"pressend",{touch:f,touchEvent:t}),delete u[p]}}0===Object.keys(u).length&&(c.removeEventListener("touchmove",a,!1),c.removeEventListener("touchend",o,!1),c.removeEventListener("touchcancel",s,!1))}function s(t){if(2==Object.keys(u).length){var i=[];for(var r in u)i.push(u[r].element);n(e(i[0],i[1]),"dualtouchend",{touches:d.call(t.touches),touchEvent:t})}for(var l=0;l<t.changedTouches.length;l++){var h=t.changedTouches[l],f=h.identifier,p=u[f];p&&(p.pressingHandler&&(clearTimeout(p.pressingHandler),p.pressingHandler=null),"panning"===p.status&&n(p.element,"panend",{touch:h,touchEvent:t}),"pressing"===p.status&&n(p.element,"pressend",{touch:h,touchEvent:t}),delete u[f])}0===Object.keys(u).length&&(c.removeEventListener("touchmove",a,!1),c.removeEventListener("touchend",o,!1),c.removeEventListener("touchcancel",s,!1))}var l=t.document,c=l.documentElement,d=Array.prototype.slice,u={},h=null;c.addEventListener("touchstart",r,!1)}(window,window.lib||(window.lib={})),function(t,e){function n(t){if(this.v=t.v||0,this.a=t.a||0,"undefined"!=typeof t.t&&(this.t=t.t),"undefined"!=typeof t.s&&(this.s=t.s),"undefined"==typeof this.t)if("undefined"==typeof this.s)this.t=-this.v/this.a;else{var e=(Math.sqrt(this.v*this.v+2*this.a*this.s)-this.v)/this.a,n=(-Math.sqrt(this.v*this.v+2*this.a*this.s)-this.v)/this.a;this.t=Math.min(e,n)}"undefined"==typeof this.s&&(this.s=this.a*this.t*this.t/2+this.v*this.t),this.generateCubicBezier=function(){function t(t,e){return[[(t/3+(t+e)/3-t)/(e-t),(t*t/3+t*e*2/3-t*t)/(e*e-t*t)],[(e/3+(t+e)/3-t)/(e-t),(e*e/3+t*e*2/3-t*t)/(e*e-t*t)]]}return t(this.v/this.a,this.t+this.v/this.a)}}e.motion=n}(window,window.lib||(window.lib={})),function(t,e){function n(t){t=t||"";var e=this,n={};if(t&&"string"==typeof t)for(var i=t.split("&"),r=0;r<i.length;r++){var a=i[r].split("=");n[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}else if("object"==typeof t)for(var o in t)n[o]=t[o];for(var o in n)!function(t){Object.defineProperty(e,t,{get:function(){return n[t]},set:function(e){n[t]=e},enumerable:!0})}(o);this.toString=function(){return Object.keys(n).sort().map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(n[t])}).join("&")}}function i(){function e(t){var e=r.createElement("a");e.href=t;var n=r.createEvent("HTMLEvents");n.initEvent("click",!1,!0),e.dispatchEvent(n)}function i(t,e){var n=r.createEvent("HTMLEvents");if(n.initEvent(t,!1,!1),e)for(var i in e)n[i]=e[i];window.dispatchEvent(n)}function l(){this.exec=function(){i("navigation:push")}}function c(){this.exec=function(){i("navigation:pop")}}function d(){this.exec=function(){i("navigation:replace")}}function u(t,e){return t.name===e.name&&t.args.toString()===e.args.toString()}var h=this,f=[],p=!1,m=!!o.state,v={},g="initial";f.ensureStart=function(){p||(p=!0,s(function(){f.length&&f.shift().exec(),s(arguments.callee)}))},this.push=function(t,r){var a={name:t,args:new n(r),id:v.state.id+1};if(!u(a,v.state)){g="push";var s=a.args.toString();if(m){var l="#"+a.name+(s?"?"+s:"");o.pushState({name:a.name,args:s,id:a.id},null,l),i("pushstate")}else{var l="#"+a.name+"["+a.id+"]"+(s?"?"+s:"");e(l)}}},this.pop=function(){v.state.id>1&&(g="pop",o.back())},this.replace=function(t,r){var a={name:t,args:new n(r),id:v.state.id};if(!u(a,v.state)){g="replace";var s=a.args.toString();if(m){var l="#"+a.name+(s?"?"+s:"");o.replaceState({name:a.name,args:s,id:a.id},null,l),i("replacestate")}else{var l="#"+a.name+"["+a.id+"]"+(s?"?"+s:"");e(l)}}};var w=!1;this.start=function(e){function i(){var t;if(m&&"object"==typeof o.state)t={id:o.state.id,name:o.state.name,args:new n(o.state.args)};else{var e=a.hash,i=e.match(/#([^\[\]\?]+)(?:\[(\d+)\])?(?:\?(.*))?/)||["",s,1,u];t={name:i[1],id:parseInt(i[2]||1),args:new n(i[3]||"")}}return t}function r(){var t=i(),e=v.state;v.state=t,t.id<e.id?(g="pop",f.push(new c(t,t.id-e.id))):t.id===e.id?"replace"===h.action&&f.push(new d(t)):(g="push",f.push(new l(t,t.id-e.id)))}if(!w){w=!0;var s=e.defaultPath||"",u=e.defaultArgs||"";m&=!!e.useHistoryState,Object.defineProperty(this,"useHistoryState",{get:function(){return m}}),Object.defineProperty(this,"action",{get:function(){return g}}),Object.defineProperty(this,"state",{get:function(){return{id:v.state.id,name:v.state.name,args:v.state.args}}});var p=i();m?(t.addEventListener("pushstate",r,!1),t.addEventListener("popstate",r,!1),t.addEventListener("replacestate",r,!1)):t.addEventListener("hashchange",r,!1),v.state=p,f.push(new l(p)),f.ensureStart()}}}var r=t.document,a=t.location,o=t.history;o.replaceState&&o.replaceState(!0);var s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){setTimeout(t,1/60)};e.navigation=i}(window,window.lib||(window.lib={})),function(t,e){function n(){e.scroll.outputDebugLog&&console.debug.apply(console,arguments)}function i(t){var e=t.getBoundingClientRect();if(!e){e={},e.width=t.offsetWidth,e.height=t.offsetHeight,e.left=t.offsetLeft,e.top=t.offsetTop;for(var n=t.offsetParent;n;)e.left+=n.offsetLeft,e.top+=n.offsetTop,n=n.offsetParent;e.right=e.left+e.width,e.bottom=e.top+e.height}return e}function r(t){return 0-t.options[t.axis+"Padding1"]}function a(t){var e=i(t.element),n=i(t.viewport),a=r(t);if("y"===t.axis)var o=0-e.height+n.height;else var o=0-e.width+n.width;return Math.min(o+t.options[t.axis+"Padding2"],a)}function o(t,e){return e>t.minScrollOffset?e-t.minScrollOffset:e<t.maxScrollOffset?e-t.maxScrollOffset:void 0}function s(t,e){return e>t.minScrollOffset?e=t.minScrollOffset:e<t.maxScrollOffset&&(e=t.maxScrollOffset),e}function l(t,e,i){n(t.element.scrollId,e,i);var r=h.createEvent("HTMLEvents");if(r.initEvent(e,!1,!0),r.scrollObj=t,i)for(var a in i)r[a]=i[a];t.element.dispatchEvent(r),t.viewport.dispatchEvent(r)}function c(t){var e,n={x:0,y:0},i=getComputedStyle(t.element).webkitTransform;return"none"!==i&&(e=i.match(/^matrix3d\(\d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, ([-\d.]+), ([-\d.]+), [-\d.]+, \d+\)/)||i.match(/^matrix\(\d+, \d+, \d+, \d+, ([-\d.]+), ([-\d.]+)\)$/))&&(n.x=parseInt(e[1])||0,n.y=parseInt(e[2])||0),n}function d(t,e){return g?"translate3d("+t+"px, "+e+"px, 0)":"translate("+t+"px, "+e+"px)"}function u(t,e){function u(t){return t.preventScrollendClick=P,P?(t.preventDefault(),t.stopPropagation(),!1):!0}function g(t,e){O=null,clearTimeout(H),H=setTimeout(function(){O&&(O=null,w(t))},e||400),O=t}function b(){M.enabled&&(j&&L(),t.style.webkitBackfaceVisibility="hidden",t.style.webkitTransformStyle="preserve-3d",t.style.webkitTransform=getComputedStyle(t).webkitTransform,t.style.webkitTransition="",O=null,clearTimeout(H))}function x(){if(M.enabled){var e=c(M)[M.axis],n=o(M,e);if(""===t.style.webkitTransition&&n){var i=s(M,e);n>0?l(M,"y"===M.axis?"pulldownend":"pullrightend"):0>n&&l(M,"y"===M.axis?"pullupend":"pullleftend"),t.style.webkitTransition="-webkit-transform 0.4s ease 0",t.style.webkitTransform="translate"+M.axis.toUpperCase()+"("+i.toFixed(0)+"px)",g(L,400),M.fireScrollingEvent&&w(function(){j&&M.enabled&&(l(M,"scrolling"),w(arguments.callee))})}else j&&L()}}function E(t){M.enabled&&("y"!==M.axis&&t.isVertical||"x"===M.axis&&t.isVertical||(M.transformOffset=c(M),M.minScrollOffset=r(M),M.maxScrollOffset=a(M),N=2.5,F=!0,j=!0,A=!1,l(M,"scrollstart"),V=t["displacement"+M.axis.toUpperCase()]))}function T(e){if(M.enabled&&("y"===M.axis&&e.isVertical||"x"===M.axis&&!e.isVertical)){e.stopPropagation();var n=e["displacement"+M.axis.toUpperCase()];if(Math.abs(n-V)<5)return void e.stopPropagation();V=n;var i=M.transformOffset[M.axis]+n;i>M.minScrollOffset?(i=M.minScrollOffset+(i-M.minScrollOffset)/N,N*=1.003):i<M.maxScrollOffset&&(i=M.maxScrollOffset-(M.maxScrollOffset-i)/N,N*=1.003),N>4&&(N=4);var r=o(M,i);r&&(l(M,r>0?"y"===M.axis?"pulldown":"pullright":"y"===M.axis?"pullup":"pullleft",{boundaryOffset:Math.abs(r)}),M.options.noBounce&&(i=s(M,i))),t.style.webkitTransition="",t.style.webkitTransform="y"===M.axis?d(M.transformOffset.x,i):d(i,M.transformOffset.y),M.fireScrollingEvent&&l(M,"scrolling")}}function S(t){M.enabled&&("y"!==M.axis&&t.isVertical||"x"===M.axis&&t.isVertical)}function k(i){if(M.enabled&&("y"===M.axis&&i.isVertical||"x"===M.axis&&!i.isVertical)){i.stopPropagation(),F=!0;var r,a,d,u,h,p,m,y,b,x,E,T,S,k,C,P,O;u=c(M)[M.axis];var H=o(M,u);if(!H){r=i["velocity"+M.axis.toUpperCase()];var N=2,V=.0015;e.inertia&&v[e.inertia]&&(N=v[e.inertia][0],V=v[e.inertia][1]),r>N&&(r=N),-N>r&&(r=-N),a=V*(r/Math.abs(r)),p=f({v:r,a:-a}),d=p.t,h=u+p.s;var I=o(M,h);if(I)n("惯性计算超出了边缘",I),e.noBounce?(n("没有回弹效果"),x=s(M,h),u!==x?(t.style.webkitTransition="-webkit-transform 0.4s ease-out 0",t.style.webkitTransform="translate"+M.axis.toUpperCase()+"("+x.toFixed(0)+"px)",g(L,400)):L()):(m=r,y=a,I>0?(x=M.minScrollOffset,T=1):(x=M.maxScrollOffset,T=-1),E=f({v:T*m,a:-T*y,s:Math.abs(x-u)}),b=E.t,S=m-y*b,k=.03*(S/Math.abs(S)),O=f({v:S,a:-k}),C=O.t,P=x+O.s,n("惯性滚动","s="+P.toFixed(0),"t="+((b+C)/1e3).toFixed(2)),u!==P?(t.style.webkitTransition="-webkit-transform "+((b+C)/1e3).toFixed(2)+"s ease-out 0",t.style.webkitTransform="translate"+M.axis.toUpperCase()+"("+P.toFixed(0)+"px)",g(function(){M.enabled&&(n("惯性回弹","s="+x.toFixed(0),"t=400"),P!==x?(t.style.webkitTransition="-webkit-transform 0.4s ease 0",t.style.webkitTransform="translate"+M.axis.toUpperCase()+"("+x.toFixed(0)+"px)",g(L,400)):L())},1e3*((b+C)/1e3).toFixed(2))):L());else{n("惯性计算没有超出了边缘");var R=p.generateCubicBezier();t.style.webkitTransition="-webkit-transform "+(d/1e3).toFixed(2)+"s cubic-bezier("+R+") 0",t.style.webkitTransform="translate"+M.axis.toUpperCase()+"("+h.toFixed(0)+"px)",g(L,1e3*(d/1e3).toFixed(2))}M.fireScrollingEvent&&(A=!0,w(function(){j&&A&&M.enabled&&(l(M,"scrolling",{afterFlick:!0}),w(arguments.callee))}))}}}function L(){M.enabled&&(F=!1,setTimeout(function(){!F&&j&&(j=!1,A=!1,t.style.webkitTransition="",l(M,"scrollend"))},50))}var M=this;if(e=e||{},e.noBounce=!!e.noBounce,e.padding=e.padding||{},e.isPrevent=null==e.isPrevent?!0:!!e.isPrevent,e.isFixScrollendClick=null==e.isFixScrollendClick?!0:!!e.isFixScrollendClick,e.padding?(e.yPadding1=-e.padding.top||0,e.yPadding2=-e.padding.bottom||0,e.xPadding1=-e.padding.left||0,e.xPadding2=-e.padding.right||0):(e.yPadding1=0,e.yPadding2=0,e.xPadding1=0,e.xPadding2=0),e.margin?(e.yMargin1=-e.margin.top||0,e.yMargin2=-e.margin.bottom||0,e.xMargin1=-e.margin.left||0,e.xMargin2=-e.margin.right||0):(e.yMargin1=0,e.yMargin2=0,e.xMargin1=0,e.xMargin2=0),e.direction=e.direction||"y",e.inertia=e.inertia||"normal",this.options=e,M.axis=e.direction,this.element=t,this.viewport=t.parentNode,this.plugins={},this.viewport.addEventListener("touchstart",b,!1),this.viewport.addEventListener("touchend",x,!1),this.viewport.addEventListener("touchcancel",x,!1),this.viewport.addEventListener("panstart",E,!1),this.viewport.addEventListener("pan",T,!1),this.viewport.addEventListener("panend",S,!1),this.viewport.addEventListener("flick",k,!1),this.element.scrollId=setTimeout(function(){p[M.element.scrollId+""]=M},1),e.isPrevent){var C="y"===this.axis?"vertical":"horizontal";this.viewport.addEventListener(C+"panstart",function(){y=!0},!1),M.viewport.addEventListener("panend",function(){y=!1},!1)}if(e.isFixScrollendClick){var P;this.viewport.addEventListener("touchstart",function(){j&&(P=!0)},!1),this.viewport.addEventListener("scrollend",function(){setTimeout(function(){P=!1},400)},!1),this.viewport.addEventListener("click",u,!1),this.viewport.addEventListener("tap",u,!1)}var O,H=0;t.addEventListener("webkitTransitionEnd",function(t){if(O){var e=O;O=null,clearTimeout(H),w(function(){e(t)})}},!1);var N,j,A,F,V,I={init:function(){return this.enable(),this.refresh(),this.scrollTo(0),this},enable:function(){return this.enabled=!0,this},disable:function(){var t=this.element;return this.enabled=!1,w(function(){t.style.webkitTransform=getComputedStyle(t).webkitTransform}),this},getScrollWidth:function(){return i(this.element).width},getScrollHeight:function(){return i(this.element).height},getScrollLeft:function(){return-c(this).x-this.options.xPadding1},getScrollTop:function(){return-c(this).y-this.options.yPadding1},getMaxScrollLeft:function(){return-M.maxScrollOffset-this.options.xPadding1},getMaxScrollTop:function(){return-M.maxScrollOffset-this.options.yPadding1},getBoundaryOffset:function(){return Math.abs(o(this,c(this)[this.axis])||0)},refresh:function(){var t=this.element,e="y"===this.axis,n=e?"height":"width";if(null!=this.options[n])t.style[n]=this.options[n]+"px";else if(t.childElementCount>0){var o,s,d=t.firstElementChild,u=t.lastElementChild;if(document.createRange&&(o=document.createRange(),o.selectNodeContents(t),s=i(o)),s)t.style[n]=s[n]+"px";else if(d&&u){for(;d&&0===i(d)[n]&&d.nextElementSibling;)d=d.nextElementSibling;for(;u&&u!==d&&0===i(u)[n]&&u.previousElementSibling;)u=u.previousElementSibling;t.style[n]=i(u)[e?"bottom":"right"]-i(d)[e?"top":"left"]+"px"}else t.style[n]="0"}else t.style[n]="auto",t.style[n]=i(t)[n]+"px";return this.transformOffset=c(this),this.minScrollOffset=r(this),this.maxScrollOffset=a(this),this.scrollTo(-this.transformOffset[this.axis]-this.options[this.axis+"Padding1"]),l(this,"contentchange"),this},offset:function(t){var e=i(this.element),n=i(t);if("y"===this.axis){var r={top:n.top-e.top-this.options.yPadding1,left:n.left-e.left,right:e.right-n.right,width:n.width,height:n.height};r.bottom=r.top+r.height}else{var r={top:n.top-e.top,bottom:e.bottom-n.bottom,left:n.left-e.left-this.options.xPadding1,width:n.width,height:n.height};r.right=r.left+r.width}return r},getRect:function(t){var e=i(this.viewport),n=i(t);if("y"===this.axis){var r={top:n.top-e.top,left:n.left-e.left,right:e.right-n.right,width:n.width,height:n.height};r.bottom=r.top+r.height}else{var r={top:n.top-e.top,bottom:e.bottom-n.bottom,left:n.left-e.left,width:n.width,height:n.height};r.right=r.left+r.width}return r},isInView:function(t){var e=i(this.viewport),n=this.getRect(t);return"y"===this.axis?e.top<n.bottom&&e.bottom>n.top:e.left<n.right&&e.right>n.left},scrollTo:function(t,e){var n=this.element;return t=-t-this.options[this.axis+"Padding1"],t=s(this,t),e===!0?(n.style.webkitTransition="-webkit-transform 0.4s ease 0",g(L,400)):(n.style.webkitTransition="",g(L,1)),n.style.webkitTransform="y"===this.axis?d(c(this).x,t):d(t,c(this).y),this},scrollToElement:function(t,e){var n=this.offset(t);return n=n["y"===this.axis?"top":"left"],this.scrollTo(n,e)},getViewWidth:function(){return i(this.viewport).width},getViewHeight:function(){return i(this.viewport).height},addPulldownHandler:function(t){var e=this;return this.element.addEventListener("pulldownend",function(n){e.disable(),t(n,function(){e.scrollTo(0,!0),e.enable()})},!1),this},addPullupHandler:function(t){var e=this;return this.element.addEventListener("pullupend",function(n){e.disable(),t(n,function(){e.scrollTo(e.getScrollHeight(),!0),e.enable()})},!1),this},addScrollstartHandler:function(t){return this.element.addEventListener("scrollstart",function(e){t(e)},!1),this},addScrollingHandler:function(t){if(!this.fireScrollingEvent){this.fireScrollingEvent=!0;var e=h.createElement("div");e.className="force-refresh",e.style.cssText="position: absolute; top: 0; left: 0; width: 0; height: 0; font-size: 0; opacity: 1;",this.viewport.appendChild(e),this.element.addEventListener("scrolling",function(){e.style.opacity=Math.abs(parseInt(e.style.opacity)-1)+""},!1)}return this.element.addEventListener("scrolling",function(e){t(e)},!1),this},addScrollendHandler:function(t){return this.element.addEventListener("scrollend",function(e){t(e)},!1),this},addEventListener:function(){this.element.addEventListener.apply(this.element,arguments)},removeEventListener:function(){this.element.removeEventListener.apply(this.element,arguments)},enablePlugin:function(t,e){var n=m[t];return n&&!this.plugins[t]&&(this.plugins[t]=!0,e=e||{},n.call(this,t,e)),this}};for(var R in I)this[R]=I[R];delete I}var h=t.document,f=e.motion,p={},m={},v={normal:[2,.0015],slow:[1.5,.003],veryslow:[1.5,.005]},g="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,w=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){setTimeout(t,16)}}(),y=!1;h.addEventListener("touchmove",function(t){return y?(t.preventDefault(),!1):!0},!1),e.scroll=function(t,e){if(1===arguments.length&&!(arguments[0]instanceof HTMLElement))if(e=arguments[0],e.scrollElement)t=e.scrollElement;
else{if(!e.scrollWrap)throw new Error("no scroll element");t=e.scrollWrap.firstElementChild}if(!t.parentNode)throw new Error("wrong dom tree");if(e&&e.direction&&["x","y"].indexOf(e.direction)<0)throw new Error("wrong direction");var n;return n=t.scrollId?p[t.scrollId]:new u(t,e)},e.scroll.plugin=function(t,e){return e?(t=t.split(","),void t.forEach(function(t){m[t]=e})):m[t]}}(window,window.lib||(window.lib={}));