!function(t){function e(){t.rem=o.getBoundingClientRect().width/16,o.style.fontSize=t.rem+"px"}var i,n=t.navigator.appVersion.match(/iphone/gi)?t.devicePixelRatio:1,s=1/n,o=document.documentElement,r=document.createElement("meta");if(t.dpr=n,t.addEventListener("resize",function(){clearTimeout(i),i=setTimeout(e,300)},!1),t.addEventListener("pageshow",function(t){t.persisted&&(clearTimeout(i),i=setTimeout(e,300))},!1),o.setAttribute("data-dpr",n),r.setAttribute("name","viewport"),r.setAttribute("content","initial-scale="+s+", maximum-scale="+s+", minimum-scale="+s+", user-scalable=no"),o.firstElementChild)o.firstElementChild.appendChild(r);else{var a=document.createElement("div");a.appendChild(r),document.write(a.innerHTML)}e()}(window),function(t,e){function i(t,e){function i(){g||(g=!0,d=t.querySelector("canvas"),u=d.getContext("2d"),m=.13373158940994154,v=.06015722128359704);var e=d.getBoundingClientRect();(d.width!==e.width*w||d.height!==e.height*w)&&(d.width=e.width*w,d.height=e.height*w,p=e.width/2,f=p/15)}function o(){if("spin"===y){i();var t=0;!function(){"spin"===y&&(u.clearRect(0,0,d.width,d.height),u.beginPath(),u.arc(p*w,p*w,(p-f)*w,-m-Math.PI/2-t,-m-Math.PI/2-100*v-t,!0),u.lineWidth=f*w,u.strokeStyle="#ff5000",u.stroke(),u.closePath(),t+=4*Math.PI/60,n(arguments.callee))}()}}function r(t){"draw"===y&&(i(),t>100&&(t=100),u.clearRect(0,0,d.width*w,d.height*w),u.beginPath(),u.arc(p*w,p*w,(p-f)*w,-m-Math.PI/2,-m-Math.PI/2-v*t,!0),u.lineWidth=f*w,u.strokeStyle="#ff5000",u.stroke(),u.closePath())}function a(){var e=t.querySelector(".arrow");e.style.cssText="display: block"}function l(){var e=t.querySelector(".arrow");e.style.webkitTransform="scale(1)",e.style.opacity="1",n(function(){e.style.webkitTransition="-webkit-transform 0.4s ease-in 0, opacity 0.4s ease-in 0",e.style.webkitTransform="scale(0.5)",e.style.opacity="0",e.addEventListener("webkitTransitionEnd",function(){e.removeEventListener("webkitTransitionEnd",arguments.callee),e.style.cssText="display:none;"})})}var h=Date.now()+"-"+ ++s,c=document.createDocumentFragment();1!==arguments.length||arguments[0]instanceof HTMLElement||(e=arguments[0],t=null),t||(t=document.createElement("div"),c.appendChild(t)),e=e||{},t.setAttribute("data-ctrl-name","loading"),t.setAttribute("data-ctrl-id",h),t.innerHTML='<div><canvas></canvas><span class="arrow"></span></div><span class="text"></span>';var d,u,p,f,m,v,g=!1,w=2;Object.defineProperty(this,"bgcolor",{get:function(){return t.style.backgroundColor},set:function(e){if("string"!=typeof e)throw new Error("Non expected value");t.style.backgroundColor=e}}),Object.defineProperty(this,"text",{get:function(){return t.querySelector(".text").innerText},set:function(e){if("string"!=typeof e)throw new Error("Non expected value");var i=t.querySelector("div"),n=t.querySelector(".text");e?(t.style.webkitBoxPack="",i.style.marginLeft="",n.style.display="block",n.innerText=e):(t.style.webkitBoxPack="center",i.style.marginLeft="0",n.style.display="none",n.innerText="")}});var y="";Object.defineProperty(this,"mode",{get:function(){return y},set:function(t){if(!t&&"string"!=typeof t&&["draw","spin"].indexOf(t)<0)throw new Error("Non expected value");y=t,"spin"===y?(x&&l(),o()):"draw"===y&&(a(),r(0))}});var b=0;Object.defineProperty(this,"per",{get:function(){return b},set:function(t){if("draw"!==y)throw new Error('only work under "draw" mode');if(!t&&"number"!=typeof t&&0>t&&t>100)throw new Error("Non expected value");r(t)}});var x="";Object.defineProperty(this,"arrowDirection",{get:function(){return x},set:function(e){if(!e&&"string"!=typeof e&&["up","down",""].indexOf(e)<0)throw new Error("Non expected value");x=e,t.querySelector(".arrow").className="arrow "+e}}),this.remove=function(){t.parentNode&&t.parentNode.removeChild(t)},this.element=t,this.root=c}var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||function(t){setTimeout(t,1/60*1e3)},s=0;e.loading=i}(window,window.ctrl||(window.ctrl={})),function(t,e){"use strict";function i(t){return Object.prototype.toString.call(t).slice(8,-1)}var n,s,o,r,a=.15,l=300,h=700,c=5,d=200,u=Array.prototype.slice,p=Array.prototype.concat,f=Object.prototype.hasOwnProperty,m=t.document;r=function(){function e(e,o){var a,h=0,c=+new Date+"-"+(r+=1),d=m.createDocumentFragment();this.pos=0,this.page=0,this.currentPage=0,this.customEvents=[],o=o||{},"String"===i(e)&&(e=m.querySelector(e)),e.setAttribute("data-ctrl-name","SlideView"),e.setAttribute("data-ctrl-id",c),this.element=e,this.options={direction:"h",duration:l,play:!1,loop:!1,interval:5e3,snapThreshold:null,lazy:".lazyimg"};for(h in o)f.call(o,h)&&(this.options[h]=o[h]);"horizontal"===this.options.direction&&(this.options.direction="h"),this.options.lazy&&(this.options.lazy=this.options.lazy.replace(/^\./,"")),this.element.style.overflow="hidden",this.element.style.position="relative",a=this.element.querySelector(".ctrl-slideview")||m.createElement("ul"),n.hasClass(a,"ctrl-slideview")||n.addClass(a,"ctrl-slideview"),a.style.cssText+="position:relative;top:0;height:100%;width:100%;"+s.cssVendor+"transition-duration:0;"+s.cssVendor+"transform:translateZ(0);"+s.cssVendor+"transition-timing-function:ease;padding:0;margin:0",this.slider=a,this.element.appendChild(a),this.items=[],this.items=this.options.items?this.options.items:u.call(this.options.itemClass?this.slider.querySelectorAll(this.options.itemClass):this.slider.children),this.syncViewModel(),this.__refreshSize(),this.__checkPosition(),this.__loadLazy(),this.options.play&&this.begin(),this.root=d,this.root.appendChild(this.element),n.addEvent(t,"resize",this),n.addEvent(this.element,"touchstart",this),n.addEvent(t,"touchend",this),n.addEvent(t,"touchcancel",this),n.addEvent(t,"touchmove",this),n.addEvent(this.slider,"transitionend",this)}var r=0;return e.prototype={syncViewModel:function(){var t,e,i;for(this.slider.innerHTML="",t=this.items,e=0,i=t.length;i>e;e+=1)this.__createItem(t[e],e)},begin:function(){var t=this;this.__playtimer||(this.__playtimer=setInterval(function(){t.next()},this.options.interval))},stop:function(){clearInterval(this.__playtimer),this.__playtimer=null},onFlip:function(t){n.addEvent(this.element,"slideview-flip",t),this.customEvents.push(["flip",t])},onMoveOut:function(t){n.addEvent(this.element,"slideview-moveout",t,!1),this.customEvents.push(["moveout",t])},onMoveIn:function(t){n.addEvent(this.element,"slideview-movein",t,!1),this.customEvents.push(["movein",t])},onTouchStart:function(t){n.addEvent(this.element,"slideview-touchstart",t,!1),this.customEvents.push(["touchstart",t])},destroy:function(){for(;this.customEvents.length;)n.removeEvent(this.element,"slideview-"+this.customEvents[0][0],this.customEvents[0][1],!1),this.customEvents.shift();n.removeEvent(t,"resize",this),n.removeEvent(this.element,"touchstart",this),n.removeEvent(this.element,"touchmove",this),n.removeEvent(this.element,"touchend",this),n.removeEvent(this.slider,"transitionend",this)},__createItem:function(t,e){t.id="slideview-item-"+e,t.style.cssText+=s.cssVendor+"transform:translateZ(0);position:absolute;top:0;height:100%;width:100%;"+("h"===this.options.direction?"left":"top")+":"+100*e+"%",this.slider.appendChild(t),this.__refreshSize()},prev:function(){(this.options.loop||this.currentPage)&&(this.pos+=1,this.isShowingNext=-1,this.__setAroundPage(),this.__checkPosition())},next:function(){(this.options.loop||this.currentPage!==this.items.length-1)&&(this.pos-=1,this.isShowingNext=1,this.__setAroundPage(),this.__checkPosition())},slideTo:function(t){this.items[t]&&(this.slider.style[s.transitionDuration]=Math.min(h,Math.abs(this.currentPage-t)*this.options.duration)+"ms",this.currentPage=t,this.__pos(-this.currentPage*this.pageSize),this.__loadLazy(),this.__refreshPosition())},handleEvent:function(t){switch(t.type){case o.touchstart:this.__start(t);break;case o.touchmove:this.__move(t);break;case o.touchcancel:case o.touchend:this.__end(t);break;case o.resize:this.__resize(t);break;case o.transitionend:case"otransitionend":t.target===this.slider&&this.__transitionend(t)}},__refreshPosition:function(){for(var t,e=this.items,i=0,n=e.length;n>i;i+=1)t=e[i],t.id="slideview-item-"+i,t.style.cssText+=s.cssVendor+"transform:translateZ(0);position:absolute;top:0;height:100%;width:100%;"+("h"===this.options.direction?"left":"top")+":"+100*i+"%"},__refreshSize:function(){this.elementWidth=this.element.clientWidth,this.elementHeight=this.element.clientHeight,this.sliderWidth=this.slider.clientWidth,this.sliderHeight=this.slider.clientHeight,this.pageWidth=this.elementWidth,this.pageHeight=this.elementHeight,this.maxX=-this.items.length*this.pageWidth+this.elementWidth,this.maxY=-this.items.length*this.pageHeight+this.elementHeight,this.maxPos="h"===this.options.direction?this.maxX:this.maxY,this.pageSize="h"===this.options.direction?this.pageWidth:this.pageHeight,this.snapThreshold=null===this.options.snapThreshold?Math.round(this.pageSize*a):/%/.test(this.options.snapThreshold)?Math.round(this.pageSize*this.options.snapThreshold.replace("%","")/100):this.options.snapThreshold},__resize:function(){this.__refreshSize(),this.slider.style[s.transitionDuration]="0s",this.__pos(-this.currentPage*this.pageSize)},__start:function(t){if(!this.initiated){this.__playtimer&&this.stop();var e=n.hasTouch?t.touches[0]:t;this.initiated=!0,this.moved=!1,this.startX=e.pageX,this.startY=e.pageY,this.pointX=e.pageX,this.pointY=e.pageY,this.startTime=+new Date,this.pointTime=+new Date,this.stepsX=0,this.stepsY=0,this.isShowingNext=0,this.directionLocked=!1,this.settedAround=!1,"h"===this.options.direction?(this.startPos=e.pageX,this.pointPos=e.pageX):(this.startPos=e.pageY,this.pointPos=e.pageY),this.slider.style[s.transitionDuration]="0s",this.__event("touchstart")}},__move:function(t){if(this.initiated){var e=n.hasTouch?t.touches[0]:t,i=e.pageX-this.pointX,s=e.pageY-this.pointY,o=+new Date,r=("h"===this.options.direction?"left":"top",this.pos+("h"===this.options.direction?i:s));if(this.moved=!0,this.pointX=e.pageX,this.pointY=e.pageY,this.pointTime=o,this.isMovingRight=i>0?1:0>i?-1:0,this.isMovingDown=s>0?1:0>s?-1:0,this.isShowingNext=-1*("h"===this.options.direction?this.isMovingRight:this.isMovingDown),this.stepsX+=Math.abs(i),this.stepsY+=Math.abs(s),t.preventDefault(),!(this.stepsX<10&&this.stepsY<10)){if("h"===this.options.direction){if(this.pointPos=e.pageX,!this.directionLocked&&this.stepsY>this.stepsX)return void(this.initiated=!1)}else if(this.pointPos=e.pageY,!this.directionLocked&&this.stepsX>this.stepsY)return void(this.initiated=!1);this.options.loop&&!this.settedAround&&(this.__setAroundPage(),this.settedAround=!0),this.directionLocked=!0,!this.options.loop&&(r>0||r<this.maxPos)&&(r=this.pos+("h"===this.options.direction?i:s)/c),this.__pos(r)}}},__end:function(t){if(this.initiated){var e=n.hasTouch?t.changedTouches[0]:t,i=+new Date,o=Math.abs(e.pageX-this.startX),r=Math.abs(e.pageY-this.startY),a="h"===this.options.direction?o:r,l=Math.sqrt(Math.pow(o,2)+Math.pow(r,2))/(i-this.startTime),h=l>.5;if(this.initiated=!1,this.moved){if(!this.options.loop&&(this.pos>0||this.pos<this.maxPos))return this.options.noBounceEasing||(this.slider.style[s.transitionDuration]=d+"ms"),this.__pos(this.page*this.pageSize),void this.__event("movein");if(!h&&a<this.snapThreshold)return this.options.noBounceEasing||(this.slider.style[s.transitionDuration]=Math.floor(this.options.duration*a/this.snapThreshold)+"ms"),void this.__pos(this.page*this.pageSize);this.pageSize<a&&this.__pos(this.page*this.pageSize-this.isShowingNext),this.__checkPosition()}}},__transitionend:function(){this.__setAroundPage()},__loadLazy:function(){for(var t=this.items[this.currentPage],e=this.items[this.currentPage===this.items.length-1?0:this.currentPage+1],i=p.call(u.call(t.querySelectorAll("."+this.options.lazy)),u.call(e.querySelectorAll("."+this.options.lazy))),s=0,o=i.length;o>s;s+=1)n.hasClass(i[s],this.options.lazy)&&(i[s].src=i[s].getAttribute("dataimg"),i[s].removeAttribute("dataimg"),n.removeClass(i[s],this.options.lazy))},__event:function(t){var e=m.createEvent("Event");e.initEvent("slideview-"+t,!0,!0),this.element.dispatchEvent(e)},__checkPosition:function(){var t,e,i;this.page=this.isShowingNext>0?Math.floor(this.pos/this.pageSize):Math.ceil(this.pos/this.pageSize),t=this.page*this.pageSize,this.slider.style[s.transitionDuration]=Math.floor(500*Math.abs(this.pos-t)/this.pageSize)+"ms",i=this.page%this.items.length,i>0&&(i=this.items.length-i),i=Math.abs(i),this.__pos(t),this.currentPage!==i&&(e=this.items[this.currentPage],e&&n.removeClass(e,"slideview-active"),this.currentPage=i,this.__loadLazy(),this.__event("flip")),e=this.items[this.currentPage],e&&n.addClass(e,"slideview-active")},__setAroundPage:function(){var t,e,i,n="h"===this.options.direction?"left":"top",s=1===this.isShowingNext?Math.ceil:Math.floor;this.items.length<2||(this.pos>0?(t=this.items.length-s(this.pos/this.pageSize)%this.items.length,t===this.items.length&&(t=0)):t=Math.abs(s(this.pos/this.pageSize)%this.items.length),1===this.isShowingNext?(i=t+1,i===this.items.length&&(i=0),this.items[i].style[n]=parseInt(this.items[t].style[n],10)+100+"%"):-1===this.isShowingNext&&(e=t-1,-1===e&&(e=this.items.length-1),this.items[e].style[n]=parseInt(this.items[t].style[n],10)-100+"%"))},__pos:function(t){this.pos=t,this.slider.style[s.transform]="h"===this.options.direction?"translate("+t+"px,0)"+s.translateZ:"translate(0,"+t+"px)"+s.translateZ}},e}(),e.slideview=function(t,e){var i=new r(t,e);return i},n=function(){var e={},i=m.createElement("slideview").style,n=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],n=0,s=e.length;s>n;n+=1)if(t=e[n]+"ransform",t in i)return e[n].substr(0,e[n].length-1);return!1}(),s=function(t){return n===!1?!1:""===n?t:(t=t.charAt(0).toUpperCase()+t.substr(1),n+t)},o=function(t){return String(t).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},r="ontouchstart"in t,a=s("perspective")in i;return e.extend=function(t,e){for(var i in e)f.call(e,i)&&(t[i]=e[i])},e.extend(e,{hasTouch:r,has3d:a,hasTransform:!!n,hasTransitionEnd:s("transition")in i,styles:{cssVendor:n?"-"+n.toLowerCase()+"-":"",transform:s("transform"),transitionDuration:s("transitionDuration"),translateZ:a?" translateZ(0)":""},events:{resize:"onorientationchange"in t?"orientationchange":"resize",touchstart:r?"touchstart":"mousedown",touchmove:r?"touchmove":"mousemove",touchend:r?"touchend":"mouseup",touchcancel:r?"touchcancel":"mouseup",transitionend:function(){if(n===!1)return!1;var t={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"oTransitionEnd",ms:"MSTransitionEnd"};return t[n]}()},addEvent:function(t,e,i,n){t.addEventListener(this.events[e]||e,i,!!n)},removeEvent:function(t,e,i,n){t.removeEventListener(this.events[e],i,!!n)},hasClass:function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1},addClass:function(t,e){t.className=t.className?t.className+" "+e:e},removeClass:function(t,e){t.className=t.className.replace(new RegExp("(?:^|\\s)"+o(e)+"(?=\\s|$)","ig"),"")}}),e}(),s=n.styles,o=n.events}(this,this.ctrl||(this.ctrl={})),function(t,e){e.tabheader=function(){var t=document.createDocumentFragment(),e=document.createComment("tab-header-begin"),i=document.createComment("tab-header-end");t.appendChild(e),t.appendChild(i),t.insertBefore(this.element=document.createElement("div"),i),this.element.className="tab-header";var n=document.createElement("div");n.className="tab-header-content",n.style.position="relative",n.style.textWrap="nowrap",this.element.appendChild(n);var s,o=lib.scroll(n,{direction:"x"});this.renderSelected=function(){s=document.createElement("div"),n.appendChild(s),s.className="indicator",this.updateSelected()},this.updateSelected=function(t){{var e=n.childNodes[r];e.getBoundingClientRect().width}s.style.width=e.getBoundingClientRect().width+"px",s.style.left=e.offsetLeft+"px",s.style.position="absolute",s.style.bottom="0",s.style.webkitTransitionDuration=Math.abs(.1*t).toFixed(1)+"s",o.scrollToElement(e,!0)},t.remove=function(){if(t.childNodes.length){var n=document.createRange();n.setStartBefore(e),n.setEndAfter(i),t.appendChild(n.extractContents())}};var r=0;Object.defineProperty(this,"selected",{get:function(){return r},set:function(e){if(r!=e){var i=document.createEvent("HTMLEvents");i.initEvent("select",!0,!0),i.selected=a[e],i.selectIndex=e,t.dispatchEvent(i);var n=r-e;return r=e,this.updateSelected(n),r}}});var a=null;Object.defineProperty(this,"viewModel",{get:function(){return a},set:function(t){n.innerHTML="";for(var e=this,i=0;i<t.length;i++){var s=document.createElement("span");s.innerText=t[i].text,n.appendChild(s),s.addEventListener("click",function(t){return function(){e.selected=t}}(i),!1)}this.renderSelected();var r=document.createRange();return r.setStartBefore(n),r.setEndAfter(n),n.style.width=r.getBoundingClientRect().width+"px",o.init(),o.refresh(),a=t}}),this.addEventListener=function(){t.addEventListener.apply(t,arguments)},this.removeEventListener=function(){t.removeEventListener.apply(t,arguments)},this.root=t}}(window,window.ctrl||(window.ctrl={})),function(t,e){function i(t,i){function s(t){var e=document.createEvent("HTMLEvents");e.initEvent("switch",!0,!0),e.panel=t.selected.panel,e.selected=t.selected,e.selectedIndex=t.selectedIndex,r.dispatchEvent(e),Array.prototype.forEach.call(l.querySelectorAll(".panel"),function(t){t.style.display="none"}),t.selected.panel.style.display=""}var o=Date.now()+"-"+ ++n,r=document.createDocumentFragment();if(1!==arguments.length||arguments[0]instanceof HTMLElement||(i=arguments[0],t=null),t||(t=document.createElement("div")),i=i||{},i.header instanceof HTMLElement)var a=new e.tabheader(i.header);else if(i.header instanceof e.tabheader)var a=i.header;else var a=new e.tabheader;var l=document.createElement("div");t.appendChild(a.root),t.appendChild(l),t.setAttribute("data-ctrl-name","tabpanel"),t.setAttribute("data-ctrl-id",o),r.appendChild(t);var h=[];Object.defineProperty(this,"viewModel",{get:function(){return h},set:function(t){if(!t)throw new Error("Non expected value");h=t,this.syncViewModel()}}),a.addEventListener("select",s,!0),this.syncViewModel=function(){var t=h.slice();l.innerHTML="";for(var e=document.createDocumentFragment(),i=0;i<t.length;i++){var n=t[i].panel=document.createElement("div");n.className="panel",n.style.display="none",n.innerHTML=t[i].html||"",e.appendChild(t[i].panel)}l.appendChild(e),a.viewModel=t,s({selected:t[0],selectIndex:0})},this.addEventListener=function(){r.addEventListener.apply(r,arguments)},this.removeEventListener=function(){r.removeEventListener.apply(r,arguments)},this.remove=function(){t.parentNode&&t.parentNode.removeChild(t)},this.element=t,this.root=r}var n=0;e.tabpanel=i}(window,window.ctrl||(window.ctrl={})),function(t,e){function i(t,e){function i(){var e;switch(c){case"column":e=new Array(p+1).join('<div class="column" style="margin-right:'+f+'px;-webkit-box-flex:1;"></div>');break;case"adaptive":var i=Math.floor((t.getBoundingClientRect().width+f)/(u+f));e=new Array(i+1).join('<div class="column" style="width:'+u+"px;margin-right:"+f+'px;"></div>');break;case"fix":e=new Array(p+1).join('<div class="column" style="width:'+u+"px;margin-right:"+f+'px;"></div>')}h.innerHTML=e,h.style.height="",w=Array.prototype.slice.call(h.querySelectorAll(".column")).map(function(t){return t.height=0,t.items={},t.fragment=document.createDocumentFragment(),t})}function s(t){for(var e=w[0],i=e.height,n=1;n<w.length;n++){var s=w[n].height||0;i>s&&(e=w[n],i=s)}var o=e.fragment;t.style.webkitTransform="translateY("+e.height+"px)",o.appendChild(t),t.height||e.appendChild(o),e.height=(e.height||0)+(t.height||t.getBoundingClientRect().height)+m}function o(){for(;v<g.length;v++){var t=g[v],e=document.createElement("div");e.className="item",t.width&&(e.width=t.width,e.style.width=t.width+"px"),t.height&&(e.height=t.height,e.style.height=t.height+"px"),e.innerHTML=t.html,s(e)}for(var i=0,n=0;n<w.length;n++)w[n].fragment&&w[n].fragment.childElementCount&&w[n].appendChild(w[n].fragment),i=Math.max(i,w[n].height);h.style.height=i+"px"}var r=this,a=Date.now()+"-"+ ++n,l=document.createDocumentFragment();1!==arguments.length||arguments[0]instanceof HTMLElement||(e=arguments[0],t=null),t||(t=document.createElement("div"),l.appendChild(t)),e=e||{},t.setAttribute("data-ctrl-name","waterfall"),t.setAttribute("data-ctrl-id",a);var h=document.createElement("div");h.className="column-wrap",t.appendChild(h);var c,d=!0;Object.defineProperty(this,"mode",{get:function(){return c},set:function(t){if(["column","adaptive","fix"].indexOf(t)<0)throw new Error("Non expected value");c!==t&&(d=!0,c=t)}}),this.mode=e.mode||"column";var u;Object.defineProperty(this,"columnWidth",{get:function(){var t=h.querySelector(".column");return t?t.getBoundingClientRect().width:u||0},set:function(t){if("string"==typeof t){var e=parseInt(t);if(!e)throw new Error("Non expected value");u=e}else{if("number"!=typeof t)throw new Error("Non expected value");u=t}}}),e.columnWidth&&(this.columnWidth=e.columnWidth);var p;Object.defineProperty(this,"columnAmount",{get:function(){var t=h.querySelectorAll(".column");return t&&t.length?t.length:p||0},set:function(t){if("string"==typeof t){var e=parseInt(t);if(!e)throw new Error("Non expected value");p=e}else{if("number"!=typeof t)throw new Error("Non expected value");p=t}}}),e.columnAmount&&(this.columnAmount=e.columnAmount);var f;Object.defineProperty(this,"columnPadding",{get:function(){return f},set:function(t){if("string"==typeof t){var e=parseInt(t);if(!e)throw new Error("Non expected value");f=e}else{if("number"!=typeof t)throw new Error("Non expected value");f=t}}}),e.columnPadding&&(this.columnPadding=e.columnPadding);var m;Object.defineProperty(this,"linePadding",{get:function(){return m},set:function(t){if("string"==typeof t){var e=parseInt(t);if(!e)throw new Error("Non expected value");m=e}else{if("number"!=typeof t)throw new Error("Non expected value");m=t}}}),e.linePadding&&(this.linePadding=e.linePadding||0);var v=0,g=[];Object.defineProperty(this,"viewModel",{get:function(){return g},set:function(t){if(!(t instanceof Array))throw new Error("Non expected value");g=t,r.syncViewModel("refresh")}});var w;this.syncViewModel=function(t){t=t||"padding","refresh"===t||d?(refresh=!1,v=0,i(),o()):"padding"===t&&o()},this.addEventListener=function(){t.addEventListener.apply(t,arguments)},this.removeEventListener=function(){t.removeEventListener.apply(t,arguments)},this.remove=function(){t.parentNode&&t.parentNode.removeChild(t)},this.element=t,this.root=l,i()}var n=0;e.waterfall=i}(window,window.ctrl||(window.ctrl={})),function(t){function e(t,e){for(var i=t;i;){if(i.contains(e)||i==e)return i;i=i.parentNode}return null}function i(t,e,i){var n=l.createEvent("HTMLEvents");if(n.initEvent(e,!0,!0),"object"==typeof i)for(var s in i)n[s]=i[s];t.dispatchEvent(n)}function n(t,e,i,n,s,o,r,a){var l=Math.atan2(a-o,r-s)-Math.atan2(n-e,i-t),h=Math.sqrt((Math.pow(a-o,2)+Math.pow(r-s,2))/(Math.pow(n-e,2)+Math.pow(i-t,2))),c=[s-h*t*Math.cos(l)+h*e*Math.sin(l),o-h*e*Math.cos(l)-h*t*Math.sin(l)];return{rotate:l,scale:h,translate:c,matrix:[[h*Math.cos(l),-h*Math.sin(l),c[0]],[h*Math.sin(l),h*Math.cos(l),c[1]],[0,0,1]]}}function s(t){0===Object.keys(d).length&&(h.addEventListener("touchmove",o,!1),h.addEventListener("touchend",r,!1),h.addEventListener("touchcancel",a,!1));for(var n=0;n<t.changedTouches.length;n++){var s=t.changedTouches[n],l={};for(var u in s)l[u]=s[u];var p={startTouch:l,startTime:Date.now(),status:"tapping",element:t.srcElement,pressingHandler:setTimeout(function(e){return function(){"tapping"===p.status&&(p.status="pressing",i(e,"press",{touchEvent:t})),clearTimeout(p.pressingHandler),p.pressingHandler=null}}(t.srcElement),500)};d[s.identifier]=p}if(2==Object.keys(d).length){var f=[];for(var u in d)f.push(d[u].element);i(e(f[0],f[1]),"dualtouchstart",{touches:c.call(t.touches),touchEvent:t})}}function o(t){for(var s=0;s<t.changedTouches.length;s++){var o=t.changedTouches[s],r=d[o.identifier];if(!r)return;r.lastTouch||(r.lastTouch=r.startTouch),r.lastTime||(r.lastTime=r.startTime),r.velocityX||(r.velocityX=0),r.velocityY||(r.velocityY=0),r.duration||(r.duration=0);var a=Date.now()-r.lastTime,l=(o.clientX-r.lastTouch.clientX)/a,h=(o.clientY-r.lastTouch.clientY)/a,c=70;a>c&&(a=c),r.duration+a>c&&(r.duration=c-a),r.velocityX=(r.velocityX*r.duration+l*a)/(r.duration+a),r.velocityY=(r.velocityY*r.duration+h*a)/(r.duration+a),r.duration+=a,r.lastTouch={};for(var u in o)r.lastTouch[u]=o[u];r.lastTime=Date.now();var p=o.clientX-r.startTouch.clientX,f=o.clientY-r.startTouch.clientY,m=Math.sqrt(Math.pow(p,2)+Math.pow(f,2));"tapping"===r.status&&m>10&&(r.status="panning",r.isVertical=!(Math.abs(p)>Math.abs(f)),i(r.element,"panstart",{touch:o,touchEvent:t,isVertical:r.isVertical}),i(r.element,(r.isVertical?"vertical":"horizontal")+"panstart",{touch:o,touchEvent:t})),"panning"===r.status&&(r.panTime=Date.now(),i(r.element,"pan",{displacementX:p,displacementY:f,touch:o,touchEvent:t,isVertical:r.isVertical}),r.isVertical?i(r.element,"verticalpan",{displacementY:f,touch:o,touchEvent:t}):i(r.element,"horizontalpan",{displacementX:p,touch:o,touchEvent:t}))}if(2==Object.keys(d).length){for(var v,g=[],w=[],y=[],s=0;s<t.touches.length;s++){var o=t.touches[s],r=d[o.identifier];g.push([r.startTouch.clientX,r.startTouch.clientY]),w.push([o.clientX,o.clientY])}for(var u in d)y.push(d[u].element);v=n(g[0][0],g[0][1],g[1][0],g[1][1],w[0][0],w[0][1],w[1][0],w[1][1]),i(e(y[0],y[1]),"dualtouch",{transform:v,touches:t.touches,touchEvent:t})}}function r(t){if(2==Object.keys(d).length){var n=[];for(var s in d)n.push(d[s].element);i(e(n[0],n[1]),"dualtouchend",{touches:c.call(t.touches),touchEvent:t})}for(var l=0;l<t.changedTouches.length;l++){var p=t.changedTouches[l],f=p.identifier,m=d[f];if(m){if(m.pressingHandler&&(clearTimeout(m.pressingHandler),m.pressingHandler=null),"tapping"===m.status&&(m.timestamp=Date.now(),i(m.element,"tap",{touch:p,touchEvent:t}),u&&m.timestamp-u.timestamp<300&&i(m.element,"doubletap",{touch:p,touchEvent:t}),u=m),"panning"===m.status){var v=Date.now()-m.startTime,g=((p.clientX-m.startTouch.clientX)/v,(p.clientY-m.startTouch.clientY)/v,p.clientX-m.startTouch.clientX),w=p.clientY-m.startTouch.clientY,y=Math.sqrt(m.velocityY*m.velocityY+m.velocityX*m.velocityX),b=Date.now(),x=y>.5&&b-(m.lastTime<10);i(m.element,"panend",{isflick:x,touch:p,touchEvent:t,isVertical:m.isVertical}),x&&(i(m.element,"flick",{duration:v,velocityX:m.velocityX,velocityY:m.velocityY,displacementX:g,displacementY:w,touch:p,touchEvent:t,isVertical:m.isVertical}),m.isVertical?i(m.element,"verticalflick",{duration:v,velocityY:m.velocityY,displacementY:w,touch:p,touchEvent:t}):i(m.element,"horizontalflick",{duration:v,velocityX:m.velocityX,displacementX:g,touch:p,touchEvent:t}))}"pressing"===m.status&&i(m.element,"pressend",{touch:p,touchEvent:t}),delete d[f]}}0===Object.keys(d).length&&(h.removeEventListener("touchmove",o,!1),h.removeEventListener("touchend",r,!1),h.removeEventListener("touchcancel",a,!1))}function a(t){if(2==Object.keys(d).length){var n=[];for(var s in d)n.push(d[s].element);i(e(n[0],n[1]),"dualtouchend",{touches:c.call(t.touches),touchEvent:t})}for(var l=0;l<t.changedTouches.length;l++){var u=t.changedTouches[l],p=u.identifier,f=d[p];f&&(f.pressingHandler&&(clearTimeout(f.pressingHandler),f.pressingHandler=null),"panning"===f.status&&i(f.element,"panend",{touch:u,touchEvent:t}),"pressing"===f.status&&i(f.element,"pressend",{touch:u,touchEvent:t}),delete d[p])}0===Object.keys(d).length&&(h.removeEventListener("touchmove",o,!1),h.removeEventListener("touchend",r,!1),h.removeEventListener("touchcancel",a,!1))}var l=t.document,h=l.documentElement,c=Array.prototype.slice,d={},u=null;h.addEventListener("touchstart",s,!1)}(window,window.lib||(window.lib={})),function(t,e){function i(t){if(this.v=t.v||0,this.a=t.a||0,"undefined"!=typeof t.t&&(this.t=t.t),"undefined"!=typeof t.s&&(this.s=t.s),"undefined"==typeof this.t)if("undefined"==typeof this.s)this.t=-this.v/this.a;else{var e=(Math.sqrt(this.v*this.v+2*this.a*this.s)-this.v)/this.a,i=(-Math.sqrt(this.v*this.v+2*this.a*this.s)-this.v)/this.a;this.t=Math.min(e,i)}"undefined"==typeof this.s&&(this.s=this.a*this.t*this.t/2+this.v*this.t),this.generateCubicBezier=function(){function t(t,e){return[[(t/3+(t+e)/3-t)/(e-t),(t*t/3+t*e*2/3-t*t)/(e*e-t*t)],[(e/3+(t+e)/3-t)/(e-t),(e*e/3+t*e*2/3-t*t)/(e*e-t*t)]]}return t(this.v/this.a,this.t+this.v/this.a)}}e.motion=i}(window,window.lib||(window.lib={})),function(t,e){function i(t){t=t||"";var e=this,i={};if(t&&"string"==typeof t)for(var n=t.split("&"),s=0;s<n.length;s++){var o=n[s].split("=");i[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}else if("object"==typeof t)for(var r in t)i[r]=t[r];for(var r in i)!function(t){Object.defineProperty(e,t,{get:function(){return i[t]},set:function(e){i[t]=e},enumerable:!0})}(r);this.toString=function(){return Object.keys(i).sort().map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(i[t])}).join("&")}}function n(){function e(t){var e=s.createElement("a");e.href=t;var i=s.createEvent("HTMLEvents");i.initEvent("click",!1,!0),e.dispatchEvent(i)}function n(t,e){var i=s.createEvent("HTMLEvents");if(i.initEvent(t,!1,!1),e)for(var n in e)i[n]=e[n];window.dispatchEvent(i)}function l(){this.exec=function(){n("navigation:push")}}function h(){this.exec=function(){n("navigation:pop")}}function c(){this.exec=function(){n("navigation:replace")}}function d(t,e){return t.name===e.name&&t.args.toString()===e.args.toString()}var u=this,p=[],f=!1,m=!!r.state,v={},g="initial";p.ensureStart=function(){f||(f=!0,a(function(){p.length&&p.shift().exec(),a(arguments.callee)}))},this.push=function(t,s){var o={name:t,args:new i(s),id:v.state.id+1};if(!d(o,v.state)){g="push";var a=o.args.toString();if(m){var l="#"+o.name+(a?"?"+a:"");r.pushState({name:o.name,args:a,id:o.id},null,l),n("pushstate")}else{var l="#"+o.name+"["+o.id+"]"+(a?"?"+a:"");e(l)}}},this.pop=function(){v.state.id>1&&(g="pop",r.back())},this.replace=function(t,s){var o={name:t,args:new i(s),id:v.state.id};if(!d(o,v.state)){g="replace";var a=o.args.toString();if(m){var l="#"+o.name+(a?"?"+a:"");r.replaceState({name:o.name,args:a,id:o.id},null,l),n("replacestate")}else{var l="#"+o.name+"["+o.id+"]"+(a?"?"+a:"");e(l)}}};var w=!1;this.start=function(e){function n(){var t;if(m&&r.state&&"object"==typeof r.state)t={id:r.state.id,name:r.state.name,args:new i(r.state.args)};else{var e=o.hash,n=e.match(/#([^\[\]\?]+)(?:\[(\d+)\])?(?:\?(.*))?/)||["",a,1,d];t={name:n[1],id:parseInt(n[2]||0),args:new i(n[3]||"")}}return t}function s(){var t=n(),e=v.state||{id:0};t.id||(t.id=e.id+1),v.state=t,t.id<e.id?(g="pop",p.push(new h(t,t.id-e.id))):t.id===e.id?"replace"===u.action&&p.push(new c(t)):(g="push",p.push(new l(t,t.id-e.id)))}if(!w){w=!0;var a=e.defaultPath||"",d=e.defaultArgs||"";m&=!!e.useHistoryState,Object.defineProperty(this,"useHistoryState",{get:function(){return m}}),Object.defineProperty(this,"action",{get:function(){return g}}),Object.defineProperty(this,"state",{get:function(){return{id:v.state.id,name:v.state.name,args:v.state.args}}}),m?(t.addEventListener("pushstate",s,!1),t.addEventListener("popstate",s,!1),t.addEventListener("replacestate",s,!1)):t.addEventListener("hashchange",s,!1),s(),p.ensureStart()}}}var s=t.document,o=t.location,r=t.history;!r.state&&r.replaceState&&r.replaceState(!0);var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){setTimeout(t,1/60)};e.navigation=n}(window,window.lib||(window.lib={})),function(t,e){function i(){e.scroll.outputDebugLog&&console.debug.apply(console,arguments)}function n(t){var e=t.getBoundingClientRect();if(!e){e={},e.width=t.offsetWidth,e.height=t.offsetHeight,e.left=t.offsetLeft,e.top=t.offsetTop;for(var i=t.offsetParent;i;)e.left+=i.offsetLeft,e.top+=i.offsetTop,i=i.offsetParent;e.right=e.left+e.width,e.bottom=e.top+e.height}return e}function s(t){return 0-t.options[t.axis+"Padding1"]
}function o(t){var e=n(t.element),i=n(t.viewport),o=s(t);if("y"===t.axis)var r=0-e.height+i.height;else var r=0-e.width+i.width;return Math.min(r+t.options[t.axis+"Padding2"],o)}function r(t,e){return e>t.minScrollOffset?e-t.minScrollOffset:e<t.maxScrollOffset?e-t.maxScrollOffset:void 0}function a(t,e){return e>t.minScrollOffset?e=t.minScrollOffset:e<t.maxScrollOffset&&(e=t.maxScrollOffset),e}function l(t,e,n){i(t.element.scrollId,e,n);var s=u.createEvent("HTMLEvents");if(s.initEvent(e,!1,!0),s.scrollObj=t,n)for(var o in n)s[o]=n[o];t.element.dispatchEvent(s),t.viewport.dispatchEvent(s)}function h(t){var e,i={x:0,y:0},n=getComputedStyle(t.element).webkitTransform;return"none"!==n&&(e=n.match(/^matrix3d\((?:[-\d.]+,\s*){12}([-\d.]+),\s*([-\d.]+)(?:,\s*[-\d.]+){2}\)/)||n.match(/^matrix\((?:[-\d.]+,\s*){4}([-\d.]+),\s*([-\d.]+)\)$/))&&(i.x=parseFloat(e[1])||0,i.y=parseFloat(e[2])||0),i}function c(t,e){return v?"translate3d("+t+"px, "+e+"px, 0)":"translate("+t+"px, "+e+"px)"}function d(t,d){function v(t){return t.preventScrollendClick=C,C?(t.preventDefault(),t.stopPropagation(),!1):!0}function y(t,e){_=null,clearTimeout(O),O=setTimeout(function(){_&&(_=null,g(t))},e||400),_=t}function b(){L.enabled&&(N&&M(),t.style.webkitBackfaceVisibility="hidden",t.style.webkitTransformStyle="preserve-3d",t.style.webkitTransform=getComputedStyle(t).webkitTransform,t.style.webkitTransition="",_=null,clearTimeout(O))}function x(){if(L.enabled){var e=h(L)[L.axis],i=r(L,e);if(""===t.style.webkitTransition&&i){var n=a(L,e);i>0?l(L,"y"===L.axis?"pulldownend":"pullrightend"):0>i&&l(L,"y"===L.axis?"pullupend":"pullleftend"),t.style.webkitTransition="-webkit-transform 0.4s ease 0",t.style.webkitTransform="translate"+L.axis.toUpperCase()+"("+n.toFixed(0)+"px)",y(M,400),L.fireScrollingEvent&&g(function(){N&&L.enabled&&(l(L,"scrolling"),g(arguments.callee))})}else N&&M()}}function E(t){L.enabled&&("y"!==L.axis&&t.isVertical||"x"===L.axis&&t.isVertical||(L.transformOffset=h(L),L.minScrollOffset=s(L),L.maxScrollOffset=o(L),z=2,A=!0,N=!0,H=!1,l(L,"scrollstart"),Y=t["displacement"+L.axis.toUpperCase()]))}function T(e){if(L.enabled&&("y"==L.axis&&e.isVertical||"x"===L.axis&&!e.isVertical)){e.stopPropagation();var i=e["displacement"+L.axis.toUpperCase()];if(Math.abs(i-Y)<5)return void e.stopPropagation();Y=i;var n,s=L.transformOffset[L.axis]+i;s>L.minScrollOffset?(s=L.minScrollOffset+(s-L.minScrollOffset)/z,n=(s-L.minScrollOffset)*z,z*=1.003):s<L.maxScrollOffset&&(s=L.maxScrollOffset-(L.maxScrollOffset-s)/z,n=(s-L.maxScrollOffset)*z,z*=1.003),z>4&&(z=4);var o=r(L,s);if(o){if(l(L,o>0?"y"===L.axis?"pulldown":"pullright":"y"===L.axis?"pullup":"pullleft",{boundaryOffset:Math.abs(o)}),L.options.noBounce&&(s=a(L,s)),L.viewport.parentNode){var h=u.createEvent("HTMLEvents");h.initEvent("pan",!0,!0);for(var d in e)Object.prototype.hasOwnProperty.call(h,d)||(h[d]=e[d]);h.isDelivery=!0,h["displacement"+L.axis.toUpperCase()]=n,L.viewport.parentNode.dispatchEvent(h)}}else e.stopPropagation();t.style.webkitTransform="y"===L.axis?c(L.transformOffset.x,s):c(s,L.transformOffset.y),L.fireScrollingEvent&&l(L,"scrolling")}}function S(t){L.enabled&&("y"!==L.axis&&t.isVertical||"x"===L.axis&&t.isVertical)}function k(n){if(L.enabled&&("y"===L.axis&&n.isVertical||"x"===L.axis&&!n.isVertical)){n.stopPropagation(),A=!0;var s,o,a,c,u,p,f,v,w,b,x,E,T,S,k,P,C;c=h(L)[L.axis];var _=r(L,c);if(!_){s=n["velocity"+L.axis.toUpperCase()];var O=2,z=.0015;d.inertia&&m[d.inertia]&&(O=m[d.inertia][0],z=m[d.inertia][1]),s>O&&(s=O),-O>s&&(s=-O),o=z*(s/Math.abs(s)),p=new e.motion({v:s,a:-o}),a=p.t,u=c+p.s;var Y=r(L,u);if(Y){i("惯性计算超出了边缘",Y),f=s,v=o,Y>0?(b=L.minScrollOffset,E=1):(b=L.maxScrollOffset,E=-1),x=new e.motion({v:E*f,a:-E*v,s:Math.abs(b-c)}),w=x.t;var X=x.generateCubicBezier();T=f-v*w,S=.03*(T/Math.abs(T)),C=new e.motion({v:T,a:-S}),k=C.t,P=b+C.s;{C.generateCubicBezier()}d.noBounce?(i("没有回弹效果"),c!==b?(t.style.webkitTransition="-webkit-transform "+(w/1e3).toFixed(2)+"s cubic-bezier("+X+") 0",t.style.webkitTransform="translate"+L.axis.toUpperCase()+"("+b.toFixed(0)+"px)",y(M,1e3*(w/1e3).toFixed(2))):M()):c!==P?(i("惯性滚动","s="+P.toFixed(0),"t="+((w+k)/1e3).toFixed(2)),t.style.webkitTransition="-webkit-transform "+((w+k)/1e3).toFixed(2)+"s ease-out 0",t.style.webkitTransform="translate"+L.axis.toUpperCase()+"("+P.toFixed(0)+"px)",y(function(){L.enabled&&(i("惯性回弹","s="+b.toFixed(0),"t=400"),P!==b?(t.style.webkitTransition="-webkit-transform 0.4s ease 0",t.style.webkitTransform="translate"+L.axis.toUpperCase()+"("+b.toFixed(0)+"px)",y(M,400)):M())},1e3*((w+k)/1e3).toFixed(2))):M()}else{i("惯性计算没有超出边缘");var F=p.generateCubicBezier();t.style.webkitTransition="-webkit-transform "+(a/1e3).toFixed(2)+"s cubic-bezier("+F+") 0",t.style.webkitTransform="translate"+L.axis.toUpperCase()+"("+u.toFixed(0)+"px)",y(M,1e3*(a/1e3).toFixed(2))}L.fireScrollingEvent&&(H=!0,g(function(){N&&H&&L.enabled&&(l(L,"scrolling",{afterFlick:!0}),g(arguments.callee))}))}}}function M(){L.enabled&&(A=!1,setTimeout(function(){!A&&N&&(N=!1,H=!1,t.style.webkitTransition="",l(L,"scrollend"))},50))}var L=this;if(d=d||{},d.noBounce=!!d.noBounce,d.padding=d.padding||{},d.isPrevent=null==d.isPrevent?!0:!!d.isPrevent,d.isFixScrollendClick=null==d.isFixScrollendClick?!0:!!d.isFixScrollendClick,d.padding?(d.yPadding1=-d.padding.top||0,d.yPadding2=-d.padding.bottom||0,d.xPadding1=-d.padding.left||0,d.xPadding2=-d.padding.right||0):(d.yPadding1=0,d.yPadding2=0,d.xPadding1=0,d.xPadding2=0),d.margin?(d.yMargin1=-d.margin.top||0,d.yMargin2=-d.margin.bottom||0,d.xMargin1=-d.margin.left||0,d.xMargin2=-d.margin.right||0):(d.yMargin1=0,d.yMargin2=0,d.xMargin1=0,d.xMargin2=0),d.direction=d.direction||"y",d.inertia=d.inertia||"normal",this.options=d,L.axis=d.direction,this.element=t,this.viewport=t.parentNode,this.plugins={},this.viewport.addEventListener("touchstart",b,!1),this.viewport.addEventListener("touchend",x,!1),this.viewport.addEventListener("touchcancel",x,!1),this.viewport.addEventListener("panstart",E,!1),this.viewport.addEventListener("pan",T,!1),this.viewport.addEventListener("panend",S,!1),this.viewport.addEventListener("flick",k,!1),this.element.scrollId=setTimeout(function(){p[L.element.scrollId+""]=L},1),d.isPrevent){var P="y"===this.axis?"vertical":"horizontal";this.viewport.addEventListener(P+"panstart",function(){w=!0},!1),L.viewport.addEventListener("panend",function(){w=!1},!1)}if(d.isFixScrollendClick){var C;this.viewport.addEventListener("touchstart",function(){N&&(C=!0)},!1),this.viewport.addEventListener("scrollend",function(){setTimeout(function(){C=!1},400)},!1),this.viewport.addEventListener("click",v,!1),this.viewport.addEventListener("tap",v,!1)}var _,O=0;t.addEventListener("webkitTransitionEnd",function(t){if(_){var e=_;_=null,clearTimeout(O),g(function(){e(t)})}},!1);var z,N,H,A,Y,X={init:function(){return this.enable(),this.refresh(),this.scrollTo(0),this},enable:function(){return this.enabled=!0,this},disable:function(){var t=this.element;return this.enabled=!1,g(function(){t.style.webkitTransform=getComputedStyle(t).webkitTransform}),this},getScrollWidth:function(){return n(this.element).width},getScrollHeight:function(){return n(this.element).height},getScrollLeft:function(){return-h(this).x-this.options.xPadding1},getScrollTop:function(){return-h(this).y-this.options.yPadding1},getMaxScrollLeft:function(){return-L.maxScrollOffset-this.options.xPadding1},getMaxScrollTop:function(){return-L.maxScrollOffset-this.options.yPadding1},getBoundaryOffset:function(){return Math.abs(r(this,h(this)[this.axis])||0)},refresh:function(){var t=this.element,e="y"===this.axis,i=e?"height":"width";if(null!=this.options[i])t.style[i]=this.options[i]+"px";else if(t.childElementCount>0){var r,a,c=t.firstElementChild,d=t.lastElementChild;if(document.createRange&&(r=document.createRange(),r.selectNodeContents(t),a=n(r)),a)t.style[i]=a[i]+"px";else if(c&&d){for(;c&&0===n(c)[i]&&c.nextElementSibling;)c=c.nextElementSibling;for(;d&&d!==c&&0===n(d)[i]&&d.previousElementSibling;)d=d.previousElementSibling;t.style[i]=n(d)[e?"bottom":"right"]-n(c)[e?"top":"left"]+"px"}else t.style[i]="0"}else t.style[i]="auto",t.style[i]=n(t)[i]+"px";return this.transformOffset=h(this),this.minScrollOffset=s(this),this.maxScrollOffset=o(this),this.scrollTo(-this.transformOffset[this.axis]-this.options[this.axis+"Padding1"]),l(this,"contentchange"),this},offset:function(t){var e=n(this.element),i=n(t);if("y"===this.axis){var s={top:i.top-e.top-this.options.yPadding1,left:i.left-e.left,right:e.right-i.right,width:i.width,height:i.height};s.bottom=s.top+s.height}else{var s={top:i.top-e.top,bottom:e.bottom-i.bottom,left:i.left-e.left-this.options.xPadding1,width:i.width,height:i.height};s.right=s.left+s.width}return s},getRect:function(t){var e=n(this.viewport),i=n(t);if("y"===this.axis){var s={top:i.top-e.top,left:i.left-e.left,right:e.right-i.right,width:i.width,height:i.height};s.bottom=s.top+s.height}else{var s={top:i.top-e.top,bottom:e.bottom-i.bottom,left:i.left-e.left,width:i.width,height:i.height};s.right=s.left+s.width}return s},isInView:function(t){var e=n(this.viewport),i=this.getRect(t);return"y"===this.axis?e.top<i.bottom&&e.bottom>i.top:e.left<i.right&&e.right>i.left},scrollTo:function(t,e){var i=this.element;return t=-t-this.options[this.axis+"Padding1"],t=a(this,t),e===!0?(i.style.webkitTransition="-webkit-transform 0.4s ease 0",y(M,400)):(i.style.webkitTransition="",y(M,1)),i.style.webkitTransform="y"===this.axis?c(h(this).x,t):c(t,h(this).y),this},scrollToElement:function(t,e){var i=this.offset(t);return i=i["y"===this.axis?"top":"left"],this.scrollTo(i,e)},getViewWidth:function(){return n(this.viewport).width},getViewHeight:function(){return n(this.viewport).height},addPulldownHandler:function(t){var e=this;return this.element.addEventListener("pulldownend",function(i){e.disable(),t(i,function(){e.scrollTo(0,!0),e.enable()})},!1),this},addPullupHandler:function(t){var e=this;return this.element.addEventListener("pullupend",function(i){e.disable(),t(i,function(){e.scrollTo(e.getScrollHeight(),!0),e.enable()})},!1),this},addScrollstartHandler:function(t){return this.element.addEventListener("scrollstart",function(e){t(e)},!1),this},addScrollingHandler:function(t){if(!this.fireScrollingEvent){this.fireScrollingEvent=!0;var e=u.createElement("div");e.className="force-refresh",e.style.cssText="position: absolute; top: 0; left: 0; width: 0; height: 0; font-size: 0; opacity: 1;",this.viewport.appendChild(e),this.element.addEventListener("scrolling",function(){e.style.opacity=Math.abs(parseInt(e.style.opacity)-1)+""},!1)}return this.element.addEventListener("scrolling",function(e){t(e)},!1),this},addScrollendHandler:function(t){return this.element.addEventListener("scrollend",function(e){t(e)},!1),this},addEventListener:function(){this.element.addEventListener.apply(this.element,arguments)},removeEventListener:function(){this.element.removeEventListener.apply(this.element,arguments)},enablePlugin:function(t,e){var i=f[t];return i&&!this.plugins[t]&&(this.plugins[t]=!0,e=e||{},i.call(this,t,e)),this}};for(var F in X)this[F]=X[F];delete X}var u=t.document,p={},f={},m={normal:[2,.0015],slow:[1.5,.003],veryslow:[1.5,.005]},v="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,g=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){setTimeout(t,16)}}(),w=!1;u.addEventListener("touchmove",function(t){return w?(t.preventDefault(),!1):!0},!1),e.scroll=function(t,e){if(1===arguments.length&&!(arguments[0]instanceof HTMLElement))if(e=arguments[0],e.scrollElement)t=e.scrollElement;else{if(!e.scrollWrap)throw new Error("no scroll element");t=e.scrollWrap.firstElementChild}if(!t.parentNode)throw new Error("wrong dom tree");if(e&&e.direction&&["x","y"].indexOf(e.direction)<0)throw new Error("wrong direction");var i;return i=t.scrollId?p[t.scrollId]:new d(t,e)},e.scroll.plugin=function(t,e){return e?(t=t.split(","),void t.forEach(function(t){f[t]=e})):f[t]}}(window,window.lib||(window.lib={})),function(t,e){function i(t){var e,i={x:0,y:0},n=getComputedStyle(t).webkitTransform;return"none"!==n&&(e=n.match(/^matrix3d\(\d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, \d+, ([-\d.]+), ([-\d.]+), [-\d.]+, \d+\)/)||n.match(/^matrix\(\d+, \d+, \d+, \d+, ([-\d.]+), ([-\d.]+)\)$/))&&(i.x=parseInt(e[1])||0,i.y=parseInt(e[2])||0),i}var n=t.document,s=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){setTimeout(t,16)}}();e.scroll.plugin("fixed",function(t,e){function i(t,e){"string"==typeof t?e.innerHTML=t:t instanceof HTMLElement&&e.appendChild(t)}this.options;getComputedStyle(this.viewport).position.match(/^relative|absolute$/)||(this.viewport.style.position="relative");var s=n.createDocumentFragment();if("y"===this.axis){var o=e.topOffset||0,r=e.bottomOffset||0,a=this.topFixedElement=n.createElement("div");a.className="top-fixed",a.style.cssText="z-index:9; position: absolute; top: "+o+"px; left: 0; width: 100%;";var l=this.bottomFixedElement=n.createElement("div");l.className="bottom-fxied",l.style.cssText="z-index:9; position: absolute; bottom: "+r+"px; left: 0; width: 100%",e.topElement&&i(e.topElement,a),e.bottomElement&&i(e.bottomElement,l),s.appendChild(a),s.appendChild(l)}else{var h=e.leftOffset||0,c=e.rightOffset||0,d=this.leftFixedElement=n.createElement("div");d.className="left-fixed",d.style.cssText="z-index:9; position: absolute; top: 0; left: "+h+"px; height: 100%;";var u=this.rightFixedElement=n.createElement("div");u.className="right-fxied",u.style.cssText="z-index:9; position: absolute; top: 0; right: "+c+"px; height: 100%;",e.leftElement&&i(e.leftElement,d),e.rightElement&&i(e.rightElement,u),s.appendChild(d),s.appendChild(u)}this.viewport.appendChild(s)}),e.scroll.plugin("lazyload",function(t,e){{var i=this;this.options}this.checkLazyload=function(){var t=Array.prototype.slice.call(this.element.querySelectorAll(".lazy"));t.filter(function(t){return i.isInView(t)}).forEach(function(t){if(e.onLazyLoad)e.onLazyLoad(t);else{var i=t;if("IMG"!==i.tagName.toUpperCase()&&(i=t.querySelector("img[data-src]")),i){var n=i.getAttribute("data-src");n&&(i.src=n,i.removeAttribute("data-src"))}t.className=t.className.split(" ").map(function(t){return"lazy"!==t}).join(" ")}})},e.realTimeLoad?this.addScrollingHandler(function(){i.checkLazyload()}):this.addScrollendHandler(function(){i.checkLazyload()}),this.element.addEventListener("contentchange",function(){i.checkLazyload()}),s(function(){i.checkLazyload()})}),e.scroll.plugin("sticky",function(t,e){var i=this.options,s=(e.offset||0)+(i.padding.top||0),o=this.stickyWrapElement=n.createElement("div");o.className="stick-wrap",o.style.cssText="z-index:9; position: absolute; top: "+s+"px; left: 0; width: 100%;",this.viewport.appendChild(o),this.makeSticky=function(t){var e=this;if(t){if(t.className.indexOf("sticky-able")>=0)return;t.style.position="absolute",t.className=t.className.split(/\s+/).filter(function(t){return"sticky"!=t}).join(" ")+" sticky-able";var i=t.parentNode;this.addScrollingHandler(function(){e.checkSticky(t,i)}),this.addScrollendHandler(function(){e.checkSticky(t,i)})}else Array.prototype.slice.call(this.element.querySelectorAll(".sticky")).forEach(function(t){e.makeSticky(t)})},this.checkSticky=function(t,e){this.getRect(e).top<0?this.stickyWrapElement.appendChild(t):this.getRect(e).top>0&&e.appendChild(t)},this.makeSticky()}),e.scroll.plugin("refresh",function(t,e){function o(){h||(h=!0,r.disable(),s(function(){l.style.webkitTransition="-webkit-transform 0.4s ease 0",l.style.webkitTransform="translateY(0)",r.element.style.webkitTransition="-webkit-transform 0.4s ease 0",r.element.style.webkitTransform="translateY("+(r.minScrollOffset+e.height)+"px)"}),setTimeout(function(){e.onrefresh.call(r,function(){s(function(){l.style.webkitTransition="-webkit-transform 0.4s ease 0",l.style.webkitTransform="translateY(-"+e.height+"px)",r.scrollTo(0,!0),setTimeout(function(){l.style.webkitTransition="",l.style.webkitTransform="translateY(-"+e.height+"px)",r.enable(),r.refresh(),h=!1},400)})})},400))}var r=this,a=this.options;getComputedStyle(this.viewport).position.match(/^relative|absolute$/)||(this.viewport.style.position="relative"),e.height=e.height||0,e.offset=(e.offset||0)+(a.padding.top||0);var l=this.refreshElement=n.createElement("div");l.className="refresh",l.style.cssText=["position: absolute","top: "+e.offset+"px","left: 0","width: 100%","height: "+e.height+"px","-webkit-transform: translateY(-"+e.height+"px)"].join(";"),e.html||"string"==typeof e.element?l.innerHTML=e.html||e.element:e.element instanceof HTMLElement&&l.appendChild(e.element),this.viewport.appendChild(l);var h;this.addScrollingHandler(function(){if(!h){{var t=r.getScrollTop();i(l)}l.style.webkitTransform="translateY("+-(e.height+t)+"px)",0>t&&e.onpull&&e.onpull.call(r,-t)}}),this.element.addEventListener("pulldownend",function(){if(!h){var t=r.getBoundaryOffset();t>e.height&&o()}},!1)}),e.scroll.plugin("update",function(t,e){function i(){if(!l){if(l=!0,!e.onupdate)throw new Error('no "onupdate" Handler');e.onupdate.call(o,function(){s(function(){a.style.webkitTransition="",o.refresh(),a.style.webkitTransform="translateY("+(o.getMaxScrollTop()+e.height)+"px)",l=!1})})}}{var o=this,r=this.options;e.offset}getComputedStyle(this.viewport).position.match(/^relative|absolute$/)||(this.viewport.style.position="relative"),e.height=e.height||0,e.offset=(r.padding.bottom||0)-(e.offset||0);var a=this.updateElement=n.createElement("div");a.className="update",a.style.cssText=["position: absolute","bottom: "+e.offset+"px","left: 0","width: 100%","height: "+e.height+"px","-webkit-transform: translateY("+(o.getMaxScrollTop()+e.height)+"px)"].join(";"),"string"==typeof e.element?a.innerHTML=e.element:e.element instanceof HTMLElement&&a.appendChild(e.element),this.viewport.appendChild(a);var l;this.addScrollingHandler(function(){var t=o.getScrollTop(),n=o.getMaxScrollTop();a.style.webkitTransform="translateY("+(n+e.height-t)+"px)",l||(n-t<.2*e.height?i():e.onpull&&e.onpull.call(o))})})}(window,window.lib||(window.lib={}));